<!-- 3.  Create a web page to display customers data in table format.  Use fetch() to communicate with server 

	url :  https://www.w3schools.com/angular/customers.php

	Hint :  Update the previous  example with table tags. -->

<html>
    <head></head>
    <body>
        <h2>Customers data in table format</h2>
        <hr/><br/>
        <button onclick="fn_getData()">Get Data</button><br/><br/>
        <table id="ta1" border="2">
            <tr>
                <th>Name</th>
                <th>City</th>
                <th>Country</th>
            </tr>
        </table>
        <p id="p1"></p>
        <script>
            var tableObj = document.getElementById("ta1");
            var pObj = document.getElementById("p1");

            function fn_getData()
            {
                let url = "https://www.w3schools.com/angular/customers.php";

                fetch(url).then( (response) =>
                {
                    response.json().then( (resData) =>
                    {
                        displayData(resData.records);
                    })
                }).catch( (error) => 
                {
                    pObj.innerHTML = "";
                    pObj.innerHTML += error;
                })
            }

            function displayData(dataArray)
            {
                for(let item of dataArray)
                {
                var row = tableObj.insertRow(-1)
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
                var cell3 = row.insertCell(2);
                cell1.innerHTML = item.Name;
                cell2.innerHTML = item.City;
                cell3.innerHTML = item.Country;
                }
            }
        </script>
    </body>
</html>